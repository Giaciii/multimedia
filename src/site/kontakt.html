<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel='stylesheet' href='/src/css/style.css'>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script type="text/javascript">
    (function() {
        emailjs.init('oOBUwIK6a0KI6ODC9');
    })();
  </script>
  <script type="text/javascript">
    function SendMail() {
      let templateParams = {
        from_name: document.getElementById('fullname').value,
        email_id: document.getElementById('email_id').value,
        message: document.getElementById('message').value
      };
      emailjs.send("service_pnxuowq", "template_e4j0f17", templateParams)
    .then(function(response) {
       console.log('SUCCESS!', response.status, response.text);
    }, function(error) {
       console.log('FAILED...', error);
    });
   }
  </script>
  <title>Kontakt | Kieselstein</title>
</head>
<body>
  <div id="menu_1"></div>

  <label>Name</label>
  <input type="text" name="fullname" id="fullname">
  <label>Email</label>
  <input type="email" name="email_id" id="email_id">
  <label>Message</label>
  <textarea name="message" id="message"></textarea>
  <input type="submit" value="Send" onclick="SendMail()">

  <div id="menu_2"></div>

  <script>
    const sites = ['menu.html', 'footer.html'];
    let header = 'menu.html';
    let footer = 'footer.html';
    for (let i = 0; i < sites.length; i++) {
      let xhr = new XMLHttpRequest();
      console.log(sites[i]);
      xhr.open('GET', sites[i], true);
      xhr.onreadystatechange = function () {
        if (this.readyState === 4 && this.status === 200) {
          document.getElementById('menu_' + (i+1)).innerHTML = this.responseText;
        }
      };
      xhr.send();
    }
  </script>
</body>
</html>